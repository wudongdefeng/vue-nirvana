(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8fff5502"],{"03c5":function(e,_,t){"use strict";var r=t("f9ee"),a=t.n(r);a.a},"0d7a":function(e,_,t){"use strict";var r=t("b2a2"),a=t("8a1c"),n=t("857c"),s=t("2732"),i=t("ef4c"),o=t("38eb"),c=t("d88d"),l=t("59da"),u=t("5139"),d=t("efe2"),p=[].push,h=Math.min,E=4294967295,f=!d((function(){return!RegExp(E,"y")}));r("split",2,(function(e,_,t){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var r=String(s(this)),n=void 0===t?E:t>>>0;if(0===n)return[];if(void 0===e)return[r];if(!a(e))return _.call(r,e,n);var i,o,c,l=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,f=new RegExp(e.source,d+"g");while(i=u.call(f,r)){if(o=f.lastIndex,o>h&&(l.push(r.slice(h,i.index)),i.length>1&&i.index<r.length&&p.apply(l,i.slice(1)),c=i[0].length,h=o,l.length>=n))break;f.lastIndex===i.index&&f.lastIndex++}return h===r.length?!c&&f.test("")||l.push(""):l.push(r.slice(h)),l.length>n?l.slice(0,n):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:_.call(this,e,t)}:_,[function(_,t){var a=s(this),n=void 0==_?void 0:_[e];return void 0!==n?n.call(_,a,t):r.call(String(a),_,t)},function(e,a){var s=t(r,e,this,a,r!==_);if(s.done)return s.value;var u=n(e),d=String(this),p=i(u,RegExp),m=u.unicode,D=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(f?"y":"g"),v=new p(f?u:"^(?:"+u.source+")",D),P=void 0===a?E:a>>>0;if(0===P)return[];if(0===d.length)return null===l(v,d)?[d]:[];var O=0,g=0,y=[];while(g<d.length){v.lastIndex=f?g:0;var b,w=l(v,f?d:d.slice(g));if(null===w||(b=h(c(v.lastIndex+(f?0:g)),d.length))===O)g=o(d,g,m);else{if(y.push(d.slice(O,g)),y.length===P)return y;for(var M=1;M<=w.length-1;M++)if(y.push(w[M]),y.length===P)return y;g=O=b}}return y.push(d.slice(O)),y}]}),!f)},"4d27":function(e,_,t){"use strict";t.r(_);var r=function(){var e=this,_=e.$createElement,t=e._self._c||_;return t("div",[t("van-overlay",{staticClass:"loadingBox",attrs:{show:e.showOverlay,"z-index":3001}},[t("van-loading",{attrs:{size:"24px"}},[e._v("加载中...")])],1),t("div",[t("van-pull-refresh",{staticStyle:{"min-height":"calc(100vh - 46px)"},on:{refresh:e.onRefresh},model:{value:e.isLoading,callback:function(_){e.isLoading=_},expression:"isLoading"}},[e.sequelTips.show?t("van-notice-bar",{attrs:{mode:"closeable",color:"rgba(0, 0, 0, 0.86)",background:"#fff"}},[t("div",{attrs:{slot:"default"},on:{click:function(_){e.showOverlay=!0,e.$nextTick((function(){e.playVideo(e.sequelTips.url,e.sequelTips.text)}))}},slot:"default"},[e._v(" 点击恢复到播放"),t("span",{staticStyle:{"font-weight":"700"}},[e._v(e._s(e.sequelTips.text))]),e._v("。 ")])]):e._e(),t("div",{staticClass:"details"},[t("div",{staticClass:"box"},[t("div",{staticClass:"detail"},[t("div",{staticClass:"header-title"},[t("span",{staticClass:"title"},[e._v(e._s(e.digadata.title))])]),t("div",e._l(e.subtitleArr,(function(_,r){return t("span",{key:r,class:0==r?"subtitle-item":"subtitle-item dot"},[e._v(e._s(_))])})),0),t("div",{staticClass:"updateTime"},[t("span",[e._v(e._s(e.digadata.updateTime))])])]),t("div",{staticClass:"pic"},[t("div",{staticClass:"cover",style:"background-image: url("+e.digadata.coverImageUrl+");"})])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.playShow,expression:"playShow"}],staticClass:"selections"},[t("van-cell",{attrs:{title:"选集","is-link":""},on:{click:e.showPopup}}),t("div",{staticClass:"horizontal-container"},[t("div",{ref:"episodesOuter",staticClass:"scroll-wrapper",staticStyle:{margin:"10px 16px 0px 16px"}},[t("div",{staticClass:"scroll-content"},[e._l([].concat(e.episodes).splice(0,10),(function(_,r){return t("van-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:_.text,expression:"item.text"}],key:r,staticClass:"scroll-item selectionButton",attrs:{round:""},on:{click:function(t){e.showOverlay=!0,e.$nextTick((function(){e.playVideo(_.url,_.text)}))}}},[e._v(e._s(_.text))])})),e.episodes.length>10?t("van-button",{staticClass:"seeMore",attrs:{round:""},on:{click:e.showPopup}},[e._v("查看更多")]):e._e()],2)])])],1),t("van-collapse",{staticClass:"introduction",attrs:{accordion:""},model:{value:e.activeNames,callback:function(_){e.activeNames=_},expression:"activeNames"}},[t("van-collapse-item",{attrs:{title:"简介",name:"1"}},[e._v(e._s(e.digadata.introduction))])],1)],1),t("van-popup",{style:{height:"80vh"},attrs:{round:"",position:"bottom","lock-scroll":!1},on:{close:e.closePop,opened:e.openPop},model:{value:e.show,callback:function(_){e.show=_},expression:"show"}},[t("van-dropdown-menu",{attrs:{"active-color":"rgba(32, 18, 217, 255)"}},[t("van-dropdown-item",{attrs:{options:e.playSource},on:{change:function(_){e.currentPage=1,e.episodes=e.allEpisodes[_],e.$nextTick((function(){e.episodesBs.refresh()}))}},model:{value:e.playSourceValue,callback:function(_){e.playSourceValue=_},expression:"playSourceValue"}}),t("van-dropdown-item",{attrs:{options:e.sort},on:{change:function(_){e.currentPage=1,e.$nextTick((function(){e.episodesBs.refresh()}))}},model:{value:e.sortValue,callback:function(_){e.sortValue=_},expression:"sortValue"}}),t("van-dropdown-item",{attrs:{options:e.layout.options},on:{change:function(_){e.currentPage=1,e.$nextTick((function(){e.episodesBs.refresh()}))}},model:{value:e.layout.value,callback:function(_){e.$set(e.layout,"value",_)},expression:"layout.value"}})],1),t("div",{staticClass:"core-container"},[t("div",{ref:"episodes",staticClass:"scroll-wrapper"},[t("div",{staticClass:"scroll-content"},[t("van-row",e._l(e.sortValue?[].concat(e.episodes).splice(40*(e.currentPage-1),40*e.currentPage):[].concat(e.episodes).reverse().splice(40*(e.currentPage-1),40*e.currentPage),(function(_,r){return t("van-col",{key:r,staticStyle:{"text-align":"center"},attrs:{span:e.layout.value}},[t("van-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:_.text,expression:"item.text"}],staticClass:"scroll-item selectionButton",attrs:{round:""},on:{click:function(t){e.showOverlay=!0,e.$nextTick((function(){e.playVideo(_.url,_.text)}))}}},[e._v(e._s(_.text))])],1)})),1)],1)])]),t("van-pagination",{attrs:{"total-items":24,"page-count":Math.ceil(e.episodes.length/40),"items-per-page":40},on:{change:function(_){e.$nextTick((function(){e.episodesBs.refresh()}))}},model:{value:e.currentPage,callback:function(_){e.currentPage=_},expression:"currentPage"}})],1)],1)],1)},a=[],n=t("cf38"),s=n["a"],i=(t("a5a5"),t("03c5"),t("9ca4")),o=Object(i["a"])(s,r,a,!1,null,"6d2b5dc2",null);_["default"]=o.exports},"77de":function(e,_,t){},"8a1c":function(e,_,t){var r=t("a719"),a=t("2118"),n=t("90fb"),s=n("match");e.exports=function(e){var _;return r(e)&&(void 0!==(_=e[s])?!!_:"RegExp"==a(e))}},a5a5:function(e,_,t){"use strict";var r=t("77de"),a=t.n(r);a.a},cf38:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("b4fb"),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4194"),core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("fe59"),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ea69"),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("053b"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("e18c"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("e35a"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("1c2e"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("f4e3"),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("0d7a"),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("6db4"),core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("08ba"),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_11__),D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("5748"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("6a61"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_13__),D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("cf7f"),D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("ce3c"),_better_scroll_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("bcb3"),vant__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("3089"),vant__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(vant__WEBPACK_IMPORTED_MODULE_17__),_better_scroll_scroll_bar__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("2fc5"),cheerio__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("9fc2"),cheerio__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(cheerio__WEBPACK_IMPORTED_MODULE_19__),axios__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("cebe"),axios__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_20__),moment__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("c32d"),moment__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_21__),_store__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("4360"),crypto_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("0821"),crypto_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_23__),_utils_validate__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("61f7");_better_scroll_core__WEBPACK_IMPORTED_MODULE_16__["a"].use(_better_scroll_scroll_bar__WEBPACK_IMPORTED_MODULE_18__["a"]),__webpack_exports__["a"]={name:"xiaoxia",data:function(){return{layout:{options:[{text:"4×10",value:6},{text:"2×20",value:12},{text:"1×40",value:24}],value:6},sequelTips:{show:!1,text:"",url:""},playShow:!0,detailsId:this.$route.params.id,allEpisodes:[],episodes:[],showOverlay:!0,currentPage:1,isHeaderVisible:!1,playSourceValue:0,playSource:[],sortValue:!0,sort:[{text:"升序",value:!0},{text:"降序",value:!1}],isLoading:!1,activeNames:"",show:!1,subtitleArr:[],digadata:{title:"",introduction:"",coverImageUrl:"",updateTime:"",area:""}}},components:Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_15__["a"])({},vant__WEBPACK_IMPORTED_MODULE_17__["ImagePreview"].Component.name,vant__WEBPACK_IMPORTED_MODULE_17__["ImagePreview"].Component),mounted:function(){var e=this;this.$route.params.id&&this.$nextTick((function(){window.setTimeout(Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _(){return regeneratorRuntime.wrap((function(_){while(1)switch(_.prev=_.next){case 0:return _.next=2,e.getData();case 2:case"end":return _.stop()}}),_)}))),300),e.$nextTick((function(){if(e.$route.params.playCoding){var _=crypto_js__WEBPACK_IMPORTED_MODULE_23___default.a.enc.Base64.parse(e.$route.params.playCoding);_=_.toString(crypto_js__WEBPACK_IMPORTED_MODULE_23___default.a.enc.Utf8);var t=JSON.parse(_);e.$router.push({path:"/capuccilo/".concat(e.$route.params.id)}),window.setTimeout(Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _(){return regeneratorRuntime.wrap((function(_){while(1)switch(_.prev=_.next){case 0:e.showOverlay=!0,e.playVideo(t.url,t.text);case 2:case"end":return _.stop()}}),_)}))),800)}}))}))},methods:{getData:function(){var e=this;return Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _(){var t,r,a,n,s,i,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(_){while(1)switch(_.prev=_.next){case 0:if(t={},e.showOverlay=!0,r="",!window.fy_bridge_app){_.next=10;break}return _.next=6,window.request("https://www.zxzj.me/detail/".concat(e.detailsId));case 6:t=_.sent,r=cheerio__WEBPACK_IMPORTED_MODULE_19___default.a.load(t),_.next=14;break;case 10:return _.next=12,axios__WEBPACK_IMPORTED_MODULE_20___default.a.get("/diga/voddetail/".concat(e.detailsId));case 12:t=_.sent,r=cheerio__WEBPACK_IMPORTED_MODULE_19___default.a.load(t.data);case 14:for(e.digadata.title=r("h1.title").text(),_store__WEBPACK_IMPORTED_MODULE_22__["a"].dispatch("bar/setTitle",e.digadata.title+" - 迪迦"),e.digadata.updateTime="更新："+moment__WEBPACK_IMPORTED_MODULE_21___default()(r(".data").eq(3).text().match(/.*：(.*)/)[1]).format("YYYY-MM-DD"),a=[],n=r(".data").eq(0).text().split("/"),s=0;s<n.length;s++)a.push(n[s].match(/.*：(.*)/)[1]);if(e.subtitleArr=a,e.digadata.introduction=r(".detail-content").text(),e.digadata.coverImageUrl=r(".stui-content__thumb img").attr("data-original"),r(".stui-content__playlist").length>0&&r(".stui-vodlist__head").length>1){for(i=r(".stui-vodlist__head"),o=[],c=0;c<i.length-1;c++)o.push({text:i.eq(c).find("h3").text(),value:c});for(e.playSource=o,l=[],u=0;u<i.length-1;u++)for(d=r(".stui-content__playlist").eq(u).find("li"),l[u]=[],p=0;p<d.length;p++)l[u].push({text:d.eq(p).text(),url:d.eq(p).find("a").attr("href")});e.playShow=!0,e.allEpisodes=l,e.episodes=e.allEpisodes[e.playSourceValue]}else e.playShow=!1;e.showOverlay=!1,e.$nextTick((function(){e.init()}));case 26:case"end":return _.stop()}}),_)})))()},init:function(){var e=this;if(this.episodesOuterBs=new _better_scroll_core__WEBPACK_IMPORTED_MODULE_16__["a"](this.$refs.episodesOuter,{scrollX:!0,probeType:3,click:!0,eventPassthrough:"vertical"}),window.fy_bridge_app){var _=window.request("hiker://files/nirvana/nirvana_capuccilo_history",{});Object(_utils_validate__WEBPACK_IMPORTED_MODULE_24__["a"])(_)||(_=JSON.parse(_),_.forEach((function(_){_.id==e.detailsId&&(e.sequelTips.text=_.text,e.sequelTips.url=_.url,e.sequelTips.show=!0)})))}},refresh:function(){this.episodesOuterBs.refresh()},onRefresh:function(){var e=this;this.showOverlay=!0,window.setTimeout(Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _(){return regeneratorRuntime.wrap((function(_){while(1)switch(_.prev=_.next){case 0:return _.next=2,e.getData();case 2:e.$nextTick((function(){Object(vant__WEBPACK_IMPORTED_MODULE_17__["Toast"])("刷新成功"),e.isLoading=!1}));case 3:case"end":return _.stop()}}),_)}))),10)},showPopup:function(){this.show=!0},closePop:function(){this.handleHambergerClick()},openPop:function(){this.handleHambergerClick(),this.episodesBs||(this.episodesBs=new _better_scroll_core__WEBPACK_IMPORTED_MODULE_16__["a"](this.$refs.episodes,{scrollY:!0,probeType:3,click:!0,scrollbar:!0}))},handleHambergerClick:function(){this.isHeaderVisible?this.resetBody():this.lockBody(),this.isHeaderVisible=!this.isHeaderVisible},lockBody:function(){var e=document,_=e.body,t=document.body.scrollTop||document.documentElement.scrollTop;_.style.position="fixed",_.style.width="100%",_.style.top="-".concat(t,"px")},resetBody:function(){var e=document,_=e.body,t=_.style.top;_.style.position="",_.style.width="",_.style.top="",document.body.scrollTop=-parseInt(t,10),document.documentElement.scrollTop=-parseInt(t,10)},ty:function ty(requestUrl,referer){return Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _callee5(){var strRevers,decodeStr,htoStr,jie,res,$,_url,scriptFragment;return regeneratorRuntime.wrap((function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:if(jie=function(e){return e=strRevers(e),e=htoStr(e),decodeStr(e)},htoStr=function(e){for(var _=function(e,_){return e<_},t=function(e,_){return e+_},r=function(e,_){return e===_},a="AkG",n=function(e,_){return e+_},s="",i=0;_(i,e.length);i=t(i,2)){if(r(a,"WSX"))break;var o=n(e[i],e[i+1]);o=parseInt(o,16),s+=String.fromCharCode(o)}return s},decodeStr=function(e){var _=function(e,_){return e+_},t=function(e,_){return e/_}(function(e,_){return e-_}(e.length,6),2);return e.substring(0,t)+e.substring(_(t,6))},strRevers=function(e){return e.split("").reverse()},!window.fy_bridge_app){_context5.next=14;break}return _context5.next=7,window.request(requestUrl,{headers:{referer:referer,method:"GET"}});case 7:return res=_context5.sent,$=cheerio__WEBPACK_IMPORTED_MODULE_19___default.a.load(res),_url="",scriptFragment=$("script").eq(4).html(),_context5.next=13,eval(scriptFragment+"_url = url;");case 13:return _context5.abrupt("return",jie(_url));case 14:case"end":return _context5.stop()}}),_callee5)})))()},playVideo:function playVideo(url,text){var _this5=this;return Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _callee7(){return regeneratorRuntime.wrap((function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:window.setTimeout(Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _callee6(){var history,res,$,playerData,scriptFragment,playUrl,playUrlArr,hikerCustomizeMethods;return regeneratorRuntime.wrap((function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:if(!window.fy_bridge_app){_context6.next=41;break}return _context6.next=3,window.request("hiker://files/nirvana/nirvana_diga_history",{});case 3:return history=_context6.sent,history=Object(_utils_validate__WEBPACK_IMPORTED_MODULE_24__["a"])(history)?[]:JSON.parse(history),history.forEach((function(e,_){e.id==_this5.detailsId&&history.splice(_,1)})),history=[{id:_this5.detailsId,title:_this5.digadata.title.trim(),url:url,text:text.trim(),img:_this5.digadata.coverImageUrl,source:"涅槃.迪迦",time:Math.round(new Date/1e3),isPlayUrl:!1}].concat(Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_12__["a"])(history)),history.length>100&&history.splice(100,1),history=JSON.stringify(history),window.fy_bridge_app.writeFile("hiker://files/nirvana/nirvana_diga_history",history),_context6.next=12,window.request("https://www.zxzj.me/".concat(url));case 12:res=_context6.sent,$=cheerio__WEBPACK_IMPORTED_MODULE_19___default.a.load(res),playerData="",scriptFragment=$(".stui-player__video script").eq(0).html(),eval(scriptFragment+";playerData = player_data"),playUrl="",playUrlArr=[],_context6.t0=playerData.from,_context6.next="ty2"===_context6.t0?22:"yunpan"===_context6.t0?26:"ty189"===_context6.t0?29:33;break;case 22:return _context6.next=24,_this5.ty(playerData.url,"https://www.zxzj.me/".concat(url));case 24:return playUrl=_context6.sent,_context6.abrupt("break",35);case 26:return _this5.showOverlay=!1,window.location.href=playerData.url,_context6.abrupt("return");case 29:return _context6.next=31,_this5.ty(playerData.url,"https://www.zxzj.me/".concat(url));case 31:return playUrl=_context6.sent,_context6.abrupt("break",35);case 33:return Object(vant__WEBPACK_IMPORTED_MODULE_17__["Toast"])("还没适配该接口，可复制链接发给我尝试适配。"),_context6.abrupt("break",35);case 35:hikerCustomizeMethods='function ty(requestUrl,referer){function strRevers(n){return n.split("").reverse()}function decodeStr(n){var e=function n(e,t){return e+t},t=(function n(e,t){return e/t})((function n(e,t){return e-t})(n.length,6),2);return n.substring(0,t)+n.substring(e(t,6))}function htoStr(n){for(var e=function n(e,t){return e<t},t=function n(e,t){return e+t},r=function n(e,t){return e===t},i="AkG",o=function n(e,t){return e+t},c="",u=0;e(u,n.length);u=t(u,2))if(r(i,"WSX"))break;else{var f=o(n[u],n[u+1]);f=parseInt(f,16);c+=String.fromCharCode(f)}return c}function jie(n){return(n=strRevers(n)),(n=htoStr(n)),decodeStr(n)}let res=fetch(requestUrl,{headers:{referer:referer,method:"GET",},});let _url="";let scriptFragment=parseDomForHtml(res,"script,4&&Html");eval(scriptFragment+"_url = url;");return jie(_url)}',_this5.episodes.forEach((function(e){var _='let res=fetch("https://www.zxzj.me/'.concat(e.url,'",{});let playerData="";let scriptFragment=parseDomForHtml(res,".stui-player__video&&script,0&&Html");eval(scriptFragment+";playerData = player_data");let playUrl="";switch(playerData.from){case"ty2":playUrl=ty(playerData.url,"https://www.zxzj.me/').concat(e.url,'");break;case"ty189":playUrl=ty(playerData.url,"https://www.zxzj.me/').concat(e.url,'");break;default:break}'),t="let history=fetch(\"hiker://files/nirvana/nirvana_diga_history\",{});if(history=='null'||history==null||history=='undefined'||history==undefined||history=='')history=[];else history=JSON.parse(history);history.forEach((h,index)=>{if(h.id==\"".concat(_this5.detailsId,'")history.splice(index,1)});history.unshift({id:"').concat(_this5.detailsId,'",title:"').concat(_this5.digadata.title.trim(),'",url:"').concat(e.url,'",text:"').concat(e.text.trim(),'",img:"').concat(_this5.digadata.coverImageUrl,'",source:"涅槃.迪迦",time:Math.round(new Date()/1000),isPlayUrl:false,});if(history.length>100)history.splice(100,1);history=JSON.stringify(history);writeFile("hiker://files/nirvana/nirvana_diga_history",history);');e.text.trim()==text.trim()?playUrlArr.push({title:_this5.digadata.title.trim()+" - "+e.text.trim(),url:playUrl,use:!0,codeAndHeader:";get"}):playUrlArr.push({title:_this5.digadata.title.trim()+" - "+e.text.trim(),use:!1,originalUrl:"hiker://empty@lazyRule=.js:".concat(hikerCustomizeMethods).concat(_).concat(t,"playUrl;"),codeAndHeader:";get"})})),_this5.$nextTick((function(){window.fy_bridge_app.playVideos(JSON.stringify(playUrlArr))})),_this5.showOverlay=!1,_context6.next=42;break;case 41:window.location.href=url;case 42:case"end":return _context6.stop()}}),_callee6)}))),300);case 1:case"end":return _context7.stop()}}),_callee7)})))()}}}},f4e3:function(e,_,t){"use strict";var r=t("b2a2"),a=t("857c"),n=t("d88d"),s=t("2732"),i=t("38eb"),o=t("59da");r("match",1,(function(e,_,t){return[function(_){var t=s(this),r=void 0==_?void 0:_[e];return void 0!==r?r.call(_,t):new RegExp(_)[e](String(t))},function(e){var r=t(_,e,this);if(r.done)return r.value;var s=a(e),c=String(this);if(!s.global)return o(s,c);var l=s.unicode;s.lastIndex=0;var u,d=[],p=0;while(null!==(u=o(s,c))){var h=String(u[0]);d[p]=h,""===h&&(s.lastIndex=i(c,n(s.lastIndex),l)),p++}return 0===p?null:d}]}))},f9ee:function(e,_,t){}}]);