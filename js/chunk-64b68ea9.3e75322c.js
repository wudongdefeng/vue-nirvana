(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64b68ea9"],{"0627":function(e,_,t){"use strict";t("e18c"),t("1c2e");var r=t("0821"),a=t.n(r);_["a"]={nanguaencrypt:function(e){var _=a.a.enc.Utf8.parse("5qDVqrIFASQ7NZSc"),t=a.a.enc.Utf8.parse("6666184153728923"),r=a.a.enc.Utf8.parse(e),s=a.a.AES.encrypt(r,_,{mode:a.a.mode.CBC,padding:a.a.pad.Pkcs7,iv:t});return s.ciphertext.toString().toUpperCase()},nanguadecrypt:function(e){var _=a.a.enc.Utf8.parse("5qDVqrIFASQ7NZSc"),t=a.a.enc.Utf8.parse("6666184153728923"),r=a.a.enc.Hex.parse(e),s=a.a.enc.Base64.stringify(r),i=a.a.AES.decrypt(s,_,{iv:t,mode:a.a.mode.CBC,padding:a.a.pad.Pkcs7}),n=i.toString(a.a.enc.Utf8);return n.toString()},capucciloEncrypt:function(e){var _=a.a.enc.Utf8.parse("1234567898882222"),t=a.a.enc.Utf8.parse("8NONwyJtHesysWpM"),r=a.a.enc.Utf8.parse(e),s=a.a.AES.encrypt(r,_,{mode:a.a.mode.CBC,padding:a.a.pad.Pkcs7,iv:t});return s.ciphertext.toString().toUpperCase()},capucciloDecrypt:function(e){var _=a.a.enc.Utf8.parse("1234567898882222"),t=a.a.enc.Utf8.parse("8NONwyJtHesysWpM"),r=a.a.AES.decrypt(e,_,{iv:t,mode:a.a.mode.CBC,padding:a.a.pad.Pkcs7});return r.toString(a.a.enc.Utf8)}}},"18c8":function(e,_,t){"use strict";var r=t("6b85"),a=t.n(r);a.a},"286d":function(e,_,t){"use strict";var r=t("ee50"),a=t.n(r);a.a},"6b85":function(e,_,t){},"89f8":function(e,_,t){"use strict";t.r(_);var r=function(){var e=this,_=e.$createElement,t=e._self._c||_;return t("div",[t("van-overlay",{staticClass:"loadingBox",attrs:{show:e.showOverlay,"z-index":3001}},[t("van-loading",{attrs:{size:"24px"}},[e._v("加载中...")])],1),t("div",[t("van-pull-refresh",{staticStyle:{"min-height":"calc(100vh - 46px)"},on:{refresh:e.onRefresh},model:{value:e.isLoading,callback:function(_){e.isLoading=_},expression:"isLoading"}},[e.sequelTips.show?t("van-notice-bar",{attrs:{mode:"closeable",color:"rgba(0, 0, 0, 0.86)",background:"#fff"}},[t("div",{attrs:{slot:"default"},on:{click:function(_){e.showOverlay=!0,e.$nextTick((function(){e.playVideo(e.sequelTips.url,e.sequelTips.text)}))}},slot:"default"},[e._v(" 点击恢复到播放"),t("span",{staticStyle:{"font-weight":"700"}},[e._v(e._s(e.sequelTips.text))]),e._v("。 ")])]):e._e(),t("div",{staticClass:"details"},[t("div",{staticClass:"box"},[t("div",{staticClass:"detail"},[t("div",{staticClass:"header-title"},[t("span",{staticClass:"title"},[e._v(e._s(e.capuccilodata.title))])]),t("div",e._l(e.subtitleArr,(function(_,r){return t("span",{key:r,class:0==r?"subtitle-item":"subtitle-item dot"},[e._v(e._s(_))])})),0),t("div",{staticClass:"updateTime"},[t("span",[e._v(e._s(e.capuccilodata.updateTime))])])]),t("div",{staticClass:"pic"},[t("div",{staticClass:"cover",style:"background-image: url("+e.capuccilodata.coverImageUrl+");"})])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.playShow,expression:"playShow"}],staticClass:"selections"},[t("van-cell",{attrs:{title:"选集","is-link":""},on:{click:e.showPopup}}),t("div",{staticClass:"horizontal-container"},[t("div",{ref:"episodesOuter",staticClass:"scroll-wrapper",staticStyle:{margin:"10px 16px 0px 16px"}},[t("div",{staticClass:"scroll-content"},[e._l([].concat(e.episodes).splice(0,10),(function(_,r){return t("van-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:_.text,expression:"item.text"}],key:r,staticClass:"scroll-item selectionButton",attrs:{round:""},on:{click:function(t){e.showOverlay=!0,e.$nextTick((function(){e.playVideo(_.url,_.text)}))}}},[e._v(e._s(_.text))])})),e.episodes.length>10?t("van-button",{staticClass:"seeMore",attrs:{round:""},on:{click:e.showPopup}},[e._v("查看更多")]):e._e()],2)])])],1),t("van-collapse",{staticClass:"introduction",attrs:{accordion:""},model:{value:e.activeNames,callback:function(_){e.activeNames=_},expression:"activeNames"}},[t("van-collapse-item",{attrs:{title:"简介",name:"1"}},[e._v(e._s(e.capuccilodata.introduction))])],1)],1),t("van-popup",{style:{height:"80vh"},attrs:{round:"",position:"bottom","lock-scroll":!1},on:{close:e.closePop,opened:e.openPop},model:{value:e.show,callback:function(_){e.show=_},expression:"show"}},[t("van-dropdown-menu",{attrs:{"active-color":"rgba(32, 18, 217, 255)"}},[t("van-dropdown-item",{attrs:{options:e.playSource},on:{change:function(_){e.currentPage=1,e.episodes=e.allEpisodes[_],e.$nextTick((function(){e.episodesBs.refresh()}))}},model:{value:e.playSourceValue,callback:function(_){e.playSourceValue=_},expression:"playSourceValue"}}),t("van-dropdown-item",{attrs:{options:e.sort},on:{change:function(_){e.currentPage=1,e.$nextTick((function(){e.episodesBs.refresh()}))}},model:{value:e.sortValue,callback:function(_){e.sortValue=_},expression:"sortValue"}}),t("van-dropdown-item",{attrs:{options:e.layout.options},on:{change:function(_){e.currentPage=1,e.$nextTick((function(){e.episodesBs.refresh()}))}},model:{value:e.layout.value,callback:function(_){e.$set(e.layout,"value",_)},expression:"layout.value"}})],1),t("div",{staticClass:"core-container"},[t("div",{ref:"episodes",staticClass:"scroll-wrapper"},[t("div",{staticClass:"scroll-content"},[t("van-row",e._l(e.sortValue?[].concat(e.episodes).splice(40*(e.currentPage-1),40*e.currentPage):[].concat(e.episodes).reverse().splice(40*(e.currentPage-1),40*e.currentPage),(function(_,r){return t("van-col",{key:r,staticStyle:{"text-align":"center"},attrs:{span:e.layout.value}},[t("van-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:_.text,expression:"item.text"}],staticClass:"scroll-item selectionButton",attrs:{round:""},on:{click:function(t){e.showOverlay=!0,e.$nextTick((function(){e.playVideo(_.url,_.text)}))}}},[e._v(e._s(_.text))])],1)})),1)],1)])]),t("van-pagination",{attrs:{"total-items":24,"page-count":Math.ceil(e.episodes.length/40),"items-per-page":40},on:{change:function(_){e.$nextTick((function(){e.episodesBs.refresh()}))}},model:{value:e.currentPage,callback:function(_){e.currentPage=_},expression:"currentPage"}})],1)],1)],1)},a=[],s=t("b592"),i=s["a"],n=(t("286d"),t("18c8"),t("9ca4")),o=Object(n["a"])(i,r,a,!1,null,"0868cd50",null);_["default"]=o.exports},b592:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("b4fb"),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4194"),core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("fe59"),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ea69"),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("053b"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("e18c"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("e35a"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("1c2e"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("f4e3"),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("5e9f"),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("6db4"),core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("08ba"),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_11__),D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("5748"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("6a61"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_13__),D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("cf7f"),D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("ce3c"),_better_scroll_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("bcb3"),vant__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("3089"),vant__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(vant__WEBPACK_IMPORTED_MODULE_17__),_better_scroll_scroll_bar__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("2fc5"),cheerio__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("9fc2"),cheerio__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(cheerio__WEBPACK_IMPORTED_MODULE_19__),axios__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("cebe"),axios__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_20__),_store__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("4360"),crypto_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("0821"),crypto_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_22__),_utils_validate__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("61f7"),_utils_AES__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("0627");_better_scroll_core__WEBPACK_IMPORTED_MODULE_16__["a"].use(_better_scroll_scroll_bar__WEBPACK_IMPORTED_MODULE_18__["a"]),__webpack_exports__["a"]={name:"xiaoxia",data:function(){return{layout:{options:[{text:"4×10",value:6},{text:"2×20",value:12},{text:"1×40",value:24}],value:6},sequelTips:{show:!1,text:"",url:""},playShow:!0,detailsId:this.$route.params.id,allEpisodes:[],episodes:[],showOverlay:!0,currentPage:1,isHeaderVisible:!1,playSourceValue:0,playSource:[],sortValue:!0,sort:[{text:"升序",value:!0},{text:"降序",value:!1}],isLoading:!1,activeNames:"",show:!1,subtitleArr:[],capuccilodata:{title:"",introduction:"",coverImageUrl:"",updateTime:"",area:""}}},components:Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_15__["a"])({},vant__WEBPACK_IMPORTED_MODULE_17__["ImagePreview"].Component.name,vant__WEBPACK_IMPORTED_MODULE_17__["ImagePreview"].Component),mounted:function(){var e=this;this.$route.params.id&&this.$nextTick((function(){window.setTimeout(Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _(){return regeneratorRuntime.wrap((function(_){while(1)switch(_.prev=_.next){case 0:return _.next=2,e.getData();case 2:case"end":return _.stop()}}),_)}))),300),e.$nextTick((function(){if(e.$route.params.playCoding){var _=crypto_js__WEBPACK_IMPORTED_MODULE_22___default.a.enc.Base64.parse(e.$route.params.playCoding);_=_.toString(crypto_js__WEBPACK_IMPORTED_MODULE_22___default.a.enc.Utf8);var t=JSON.parse(_);e.$router.push({path:"/capuccilo/".concat(e.$route.params.id)}),window.setTimeout(Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _(){return regeneratorRuntime.wrap((function(_){while(1)switch(_.prev=_.next){case 0:e.showOverlay=!0,e.playVideo(t.url,t.text);case 2:case"end":return _.stop()}}),_)}))),800)}}))}))},methods:{getData:function(){var e=this;return Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _(){var t,r,a,s,i,n,o,c,l,u,p;return regeneratorRuntime.wrap((function(_){while(1)switch(_.prev=_.next){case 0:if(t={},e.showOverlay=!0,r="",!window.fy_bridge_app){_.next=10;break}return _.next=6,window.request("https://www.zhenbuka.com/voddetail/".concat(e.detailsId));case 6:t=_.sent,r=cheerio__WEBPACK_IMPORTED_MODULE_19___default.a.load(t),_.next=14;break;case 10:return _.next=12,axios__WEBPACK_IMPORTED_MODULE_20___default.a.get("/capuccilo/voddetail/".concat(e.detailsId));case 12:t=_.sent,r=cheerio__WEBPACK_IMPORTED_MODULE_19___default.a.load(t.data);case 14:for(e.capuccilodata.title=r("h1.title").text(),_store__WEBPACK_IMPORTED_MODULE_21__["a"].dispatch("bar/setTitle",e.capuccilodata.title+" - 卡布奇洛"),e.capuccilodata.updateTime=r(".data").eq(3).text(),a=[],s=r(".data").eq(0).find("a"),i=0;i<s.length;i++)a.push(s.eq(i).text());if(e.subtitleArr=a,e.capuccilodata.introduction=r(".detail-content").text(),e.capuccilodata.coverImageUrl=r(".stui-content__thumb img").attr("src"),r(".playlist").length>0){for(s=r(".playlist"),n=[],o=0;o<s.length;o++)n.push({text:s.eq(o).find(".title").text().replace(/不卡/g,"卡布奇洛").replace(/\[推荐\]/g,"👍").replace(/\[不推荐\]/g,"🖐"),value:o});for(e.playSource=n,c=[],l=0;l<s.length;l++)for(u=s.eq(l).find(".stui-content__playlist li"),c[l]=[],p=0;p<u.length;p++)c[l].push({text:u.eq(p).text(),url:u.eq(p).find("a").attr("href")});e.playShow=!0,e.allEpisodes=c,e.episodes=e.allEpisodes[e.playSourceValue]}else e.playShow=!1;e.showOverlay=!1,e.$nextTick((function(){e.init()}));case 26:case"end":return _.stop()}}),_)})))()},init:function(){var e=this;if(this.episodesOuterBs=new _better_scroll_core__WEBPACK_IMPORTED_MODULE_16__["a"](this.$refs.episodesOuter,{scrollX:!0,probeType:3,click:!0,eventPassthrough:"vertical"}),window.fy_bridge_app){var _=window.request("hiker://files/nirvana/nirvana_capuccilo_history",{});Object(_utils_validate__WEBPACK_IMPORTED_MODULE_23__["a"])(_)||(_=JSON.parse(_),_.forEach((function(_){_.id==e.detailsId&&(e.sequelTips.text=_.text,e.sequelTips.url=_.url,e.sequelTips.show=!0)})))}},refresh:function(){this.episodesOuterBs.refresh()},onRefresh:function(){var e=this;this.showOverlay=!0,window.setTimeout(Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _(){return regeneratorRuntime.wrap((function(_){while(1)switch(_.prev=_.next){case 0:return _.next=2,e.getData();case 2:e.$nextTick((function(){Object(vant__WEBPACK_IMPORTED_MODULE_17__["Toast"])("刷新成功"),e.isLoading=!1}));case 3:case"end":return _.stop()}}),_)}))),10)},showPopup:function(){this.show=!0},closePop:function(){this.handleHambergerClick()},openPop:function(){this.handleHambergerClick(),this.episodesBs||(this.episodesBs=new _better_scroll_core__WEBPACK_IMPORTED_MODULE_16__["a"](this.$refs.episodes,{scrollY:!0,probeType:3,click:!0,scrollbar:!0}))},handleHambergerClick:function(){this.isHeaderVisible?this.resetBody():this.lockBody(),this.isHeaderVisible=!this.isHeaderVisible},lockBody:function(){var e=document,_=e.body,t=document.body.scrollTop||document.documentElement.scrollTop;_.style.position="fixed",_.style.width="100%",_.style.top="-".concat(t,"px")},resetBody:function(){var e=document,_=e.body,t=_.style.top;_.style.position="",_.style.width="",_.style.top="",document.body.scrollTop=-parseInt(t,10),document.documentElement.scrollTop=-parseInt(t,10)},sixpan:function(e){return Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _(){var t;return regeneratorRuntime.wrap((function(_){while(1)switch(_.prev=_.next){case 0:if(!window.fy_bridge_app){_.next=6;break}return _.next=3,window.request("https://api.nixingle.com/zhenbuka/api/sixDisk.php?id=".concat(e));case 3:return t=_.sent,t=JSON.parse(t),_.abrupt("return",t.url);case 6:case"end":return _.stop()}}),_)})))()},qqpic:function(e){return Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _(){var t;return regeneratorRuntime.wrap((function(_){while(1)switch(_.prev=_.next){case 0:if(!window.fy_bridge_app){_.next=5;break}return _.next=3,window.request("https://api.nixingle.com/zhenbuka/api/resMid.php?id=".concat(e),{headers:{"user-agent":"Mozilla/5.0 (Linux; U; Android 10; zh-cn; M2006J10C Build/QP1A.190711.020) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/10.8 Mobile Safari/537.36"},method:"POST",body:"type=url"});case 3:return t=_.sent,_.abrupt("return",_utils_AES__WEBPACK_IMPORTED_MODULE_24__["a"].capucciloDecrypt(t));case 5:case"end":return _.stop()}}),_)})))()},niuxyun:function(e,_){return Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function t(){var r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!window.fy_bridge_app){t.next=9;break}return t.next=3,window.request("https://api.nixingle.com/jiekou/zbk-bkby/jx.php?id=".concat(e),{headers:{referer:_,method:"GET"}});case 3:return r=t.sent,a="https://api.nixingle.com/jiekou/zbk-bkby/"+r.match(/u="(.*)"/)[1],t.next=7,window.request(a,{headers:{referer:_,method:"GET"}});case 7:return s=t.sent,t.abrupt("return",s.match(/url:.*"(.*)"/)[1]);case 9:case"end":return t.stop()}}),t)})))()},playVideo:function playVideo(url,text){var _this5=this;return Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _callee9(){return regeneratorRuntime.wrap((function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:window.setTimeout(Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__["a"])(regeneratorRuntime.mark((function _callee8(){var history,res,$,playerData,scriptFragment,playUrl,playUrlArr,hikerCustomizeMethods;return regeneratorRuntime.wrap((function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:if(!window.fy_bridge_app){_context8.next=47;break}return _context8.next=3,window.request("hiker://files/nirvana/nirvana_capuccilo_history",{});case 3:return history=_context8.sent,history=Object(_utils_validate__WEBPACK_IMPORTED_MODULE_23__["a"])(history)?[]:JSON.parse(history),history.forEach((function(e,_){e.id==_this5.detailsId&&history.splice(_,1)})),history=[{id:_this5.detailsId,title:_this5.capuccilodata.title.trim(),url:url,text:text.trim(),img:_this5.capuccilodata.coverImageUrl,source:"涅槃.卡布奇洛",time:Math.round(new Date/1e3),isPlayUrl:!1}].concat(Object(D_Users_Peng_Desktop_video_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_12__["a"])(history)),history.length>100&&history.splice(100,1),history=JSON.stringify(history),window.fy_bridge_app.writeFile("hiker://files/nirvana/nirvana_capuccilo_history",history),_context8.next=12,window.request("https://www.zhenbuka.com/".concat(url));case 12:res=_context8.sent,$=cheerio__WEBPACK_IMPORTED_MODULE_19___default.a.load(res),playerData="",scriptFragment=$("script").eq(11).html(),eval(scriptFragment+";playerData = player_data"),playUrl="",playUrlArr=[],_context8.t0=playerData.from,_context8.next="zuidam3u8"===_context8.t0?22:"baidupan"===_context8.t0?24:"niuxyun"===_context8.t0?27:"qqpic"===_context8.t0?31:"sixpan"===_context8.t0?35:39;break;case 22:return playUrl=playerData.url,_context8.abrupt("break",41);case 24:return _this5.showOverlay=!1,window.location.href=playerData.url,_context8.abrupt("return");case 27:return _context8.next=29,_this5.niuxyun(playerData.url,"https://www.zhenbuka.com/".concat(url));case 29:return playUrl=_context8.sent,_context8.abrupt("break",41);case 31:return _context8.next=33,_this5.qqpic(playerData.url);case 33:return playUrl=_context8.sent,_context8.abrupt("break",41);case 35:return _context8.next=37,_this5.sixpan(playerData.url);case 37:return playUrl=_context8.sent,_context8.abrupt("break",41);case 39:return Object(vant__WEBPACK_IMPORTED_MODULE_17__["Toast"])("还没适配该接口，可复制链接发给我尝试适配。"),_context8.abrupt("break",41);case 41:hikerCustomizeMethods='eval(getCryptoJS());function capucciloDecrypt(word){let key=CryptoJS.enc.Utf8.parse("1234567898882222");let iv=CryptoJS.enc.Utf8.parse("8NONwyJtHesysWpM");let decrypt=CryptoJS.AES.decrypt(word,key,{iv:iv,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7})return decrypt.toString(CryptoJS.enc.Utf8)}function sixpan(id){let sixpan=fetch("https://api.nixingle.com/zhenbuka/api/sixDisk.php?id="+id,{});sixpan=JSON.parse(sixpan);return sixpan.url}function qqpic(id){let qqpic=fetch("https://api.nixingle.com/zhenbuka/api/resMid.php?id="+id,{headers:{"user-agent":"Mozilla/5.0 (Linux; U; Android 10; zh-cn; M2006J10C Build/QP1A.190711.020) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/10.8 Mobile Safari/537.36",},method:"POST",body:"type=url"});return capucciloDecrypt(qqpic)}function niuxyun(id,referer){let one=fetch("https://api.nixingle.com/jiekou/zbk-bkby/jx.php?id="+id,{headers:{referer:referer,method:"GET"}});let twoUrl="https://api.nixingle.com/jiekou/zbk-bkby/"+one.match(/u="(.*)"/)[1];let two=fetch(twoUrl,{headers:{referer:referer,method:"GET"}});return two.match(/url:.*"(.*)"/)[1]}',_this5.episodes.forEach((function(e){var _='let res=fetch("https://www.zhenbuka.com/'.concat(e.url,'",{});let playerData="";let scriptFragment=parseDomForHtml(res,"script,11&&Html");eval(scriptFragment+";playerData = player_data");let playUrl="";switch(playerData.from){case"zuidam3u8":playUrl=playerData.url;break;case"niuxyun":playUrl=niuxyun(playerData.url,"https://www.zhenbuka.com/').concat(e.url,'");break;case"qqpic":playUrl=qqpic(playerData.url);break;case"sixpan":playUrl=sixpan(playerData.url);break;default:break}'),t="let history=fetch(\"hiker://files/nirvana/nirvana_capuccilo_history\",{});if(history=='null'||history==null||history=='undefined'||history==undefined||history=='')history=[];else history=JSON.parse(history);history.forEach((h,index)=>{if(h.id==\"".concat(_this5.detailsId,'")history.splice(index,1)});history.unshift({id:"').concat(_this5.detailsId,'",title:"').concat(_this5.capuccilodata.title.trim(),'",url:"').concat(e.url,'",text:"').concat(e.text.trim(),'",img:"').concat(_this5.capuccilodata.coverImageUrl,'",source:"涅槃.卡布奇洛",time:Math.round(new Date()/1000),isPlayUrl:false,});if(history.length>100)history.splice(100,1);history=JSON.stringify(history);writeFile("hiker://files/nirvana/nirvana_capuccilo_history",history);');e.text.trim()==text.trim()?playUrlArr.push({title:_this5.capuccilodata.title.trim()+" - "+e.text.trim(),url:playUrl,use:!0,codeAndHeader:";get"}):playUrlArr.push({title:_this5.capuccilodata.title.trim()+" - "+e.text.trim(),use:!1,originalUrl:"hiker://empty@lazyRule=.js:".concat(hikerCustomizeMethods).concat(_).concat(t,"playUrl;"),codeAndHeader:";get"})})),window.fy_bridge_app.playVideos(JSON.stringify(playUrlArr)),_this5.showOverlay=!1,_context8.next=48;break;case 47:window.location.href=url;case 48:case"end":return _context8.stop()}}),_callee8)}))),300);case 1:case"end":return _context9.stop()}}),_callee9)})))()}}}},ee50:function(e,_,t){},f4e3:function(e,_,t){"use strict";var r=t("b2a2"),a=t("857c"),s=t("d88d"),i=t("2732"),n=t("38eb"),o=t("59da");r("match",1,(function(e,_,t){return[function(_){var t=i(this),r=void 0==_?void 0:_[e];return void 0!==r?r.call(_,t):new RegExp(_)[e](String(t))},function(e){var r=t(_,e,this);if(r.done)return r.value;var i=a(e),c=String(this);if(!i.global)return o(i,c);var l=i.unicode;i.lastIndex=0;var u,p=[],d=0;while(null!==(u=o(i,c))){var h=String(u[0]);p[d]=h,""===h&&(i.lastIndex=n(c,s(i.lastIndex),l)),d++}return 0===d?null:p}]}))}}]);